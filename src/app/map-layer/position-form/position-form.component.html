<form class="row" (submit)="submitForm()">

  <div *ngFor="let key of keys(params)">
    <template [ngIf]="havePermission(params[key])">

      <div class="form-group col-md-2" *ngIf="!params[key].input_type">
        <div class="input-group">
          <span class="input-group-addon">{{key}}</span>
          <input type="text" class="form-control" [(ngModel)]="params[key].val" name="{{key}}" placeholder="{{key}}">
        </div>
      </div>

      <div class="form-group col-md-3 markers-group" *ngIf="params[key].input_type == 'app-markers'">
        <app-markers [lat]="params.lat.val" [lng]="params.lng.val" (submitMarkersEmitter)="submitMarkers($event)"></app-markers>
      </div>

      <div class="form-group col-md-1" *ngIf="params[key].input_type == 'app-layers'">
        <app-layers [layersString]="params.layers.val" (submitLayersEmitter)="submitLayers($event)"></app-layers>
      </div>


      <div class="form-group col-md-2" *ngIf="params[key].input_type == 'Bswitch'">
        <bSwitch [switch-label-text]="key" [(ngModel)]="params[key].val" name="{{key}}" (ngModelChange)="submitForm()"></bSwitch>
      </div>

    </template>
  </div>

  <input type="submit" class="btn btn-info" value="Save" style="display: none;">
</form>

